{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/anonymousfiles/Desktop/Advanced Web Development/Project/Treasure-Hunt/Login.js\";\n\nimport React, { useState } from 'react';\nimport Button from \"react-native-web/dist/exports/Button\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Styles from \"./Styles\";\nimport { db } from \"./FirebaseManager\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nvar Login = function Login(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var loginPressed = function loginPressed() {\n    if (!username.trim()) {\n      alert(\"Please enter your username\");\n    } else if (!password.trim()) {\n      alert(\"Please enter your password\");\n    } else {\n      db.collection(\"users\").get().then(function (querySnapshot) {\n        querySnapshot.forEach(function (snapshot) {\n          console.log(snapshot.data().username + \"===\" + username);\n\n          if (snapshot.data().username === username) {\n            if (snapshot.data().password === password) {\n              AsyncStorage.setItem(\"username\", username).then(function () {\n                navigation.replace(\"Treasure Hunt\");\n                return;\n              }).catch(function (error) {\n                console.log();\n                \"Error while saving user to local storage \" + error;\n              });\n            } else {\n              alert(\"Incorrect credentials entered. Please re-try with the correct credentials\");\n            }\n          }\n        });\n      }).catch(function (error) {\n        alert(\"Error while getting users: \" + error);\n      });\n    }\n  };\n\n  var signUpPressed = function signUpPressed() {\n    navigation.navigate(\"Signup\");\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: Styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: Styles.largeTitle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, \"Welcome to the Toronto Geocaching Club\"), React.createElement(Text, {\n    style: Styles.text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, \"Email: \"), React.createElement(TextInput, {\n    style: Styles.input,\n    placeholder: \"enter your email address\",\n    value: username,\n    onChangeText: setUsername,\n    textContentType: \"emailAddress\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: Styles.text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, \"Password: \"), React.createElement(TextInput, {\n    style: Styles.input,\n    placeholder: \"enter your password\",\n    value: password,\n    onChangeText: setPassword,\n    textContentType: \"password\",\n    secureTextEntry: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }), React.createElement(Button, {\n    title: \"Login\",\n    onPress: loginPressed,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: Styles.horizontal_align,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, \"Not registered yet? \"), React.createElement(Button, {\n    title: \" Sign Up\",\n    onPress: signUpPressed,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/anonymousfiles/Desktop/Advanced Web Development/Project/Treasure-Hunt/Login.js"],"names":["React","useState","Styles","db","AsyncStorage","Login","navigation","route","username","setUsername","password","setPassword","loginPressed","trim","alert","collection","get","then","querySnapshot","forEach","snapshot","console","log","data","setItem","replace","catch","error","signUpPressed","navigate","container","largeTitle","text","input","horizontal_align"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Button, SafeAreaView, Text, TextInput, View} from 'react-native';\nimport Styles from './Styles';\nimport { db } from './FirebaseManager';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\n\nconst Login = ({navigation, route}) => {\n\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const loginPressed = () => {\n\n        if(!username.trim()) {\n            alert(\"Please enter your username\");\n        }\n\n        else if (!password.trim()){\n            alert(\"Please enter your password\");\n        }\n\n        else {\n            db.collection(\"users\").get()\n            .then((querySnapshot) => {\n                    \n                    querySnapshot.forEach((snapshot) => {\n                       \n                        console.log(snapshot.data().username +\"===\"+ username);\n                        if(snapshot.data().username === username){\n\n                           if(snapshot.data().password === password){\n\n                            AsyncStorage.setItem(\"username\", username)\n                            .then(() => {\n                                navigation.replace(\"Treasure Hunt\");\n                                return;\n                            })\n                            .catch((error) => {\n\n                                console.log();(\"Error while saving user to local storage \"+error);\n                            })\n\n                           }\n                           else{\n                               alert(\"Incorrect credentials entered. Please re-try with the correct credentials\");\n                           }\n                        }\n                       \n                        \n                    });\n\n                    })\n\n        \n            .catch( (error) => {\n                alert(\"Error while getting users: \"+error);\n            })\n        }\n\n       \n    }\n\n    const signUpPressed = () => {\n\n        navigation.navigate(\"Signup\");\n\n    }\n\n    return(\n\n        <SafeAreaView style={Styles.container}>\n\n            <Text style={Styles.largeTitle}>Welcome to the Toronto Geocaching Club</Text>\n\n            <Text style={Styles.text}>Email: </Text>\n            <TextInput style={Styles.input} placeholder=\"enter your email address\" value={username} onChangeText={setUsername} textContentType=\"emailAddress\"></TextInput>\n\n            <Text style={Styles.text}>Password: </Text>\n            <TextInput style={Styles.input} placeholder=\"enter your password\" value={password} onChangeText={setPassword} textContentType=\"password\" secureTextEntry={true}></TextInput>\n\n            <Button title=\"Login\" onPress={loginPressed}/>\n\n            <View style={Styles.horizontal_align}>\n                <Text>Not registered yet? </Text>\n                <Button title=\" Sign Up\" onPress={signUpPressed}/>\n            </View>\n\n           \n        </SafeAreaView>\n    )\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}
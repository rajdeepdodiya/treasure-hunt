{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/anonymousfiles/Desktop/Advanced Web Development/Project/Treasure-Hunt/AddNewCache.js\";\n\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport React, { useEffect, useState } from 'react';\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { db } from \"./FirebaseManager\";\n\nvar AddNewCache = function AddNewCache() {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      cacheNameInput = _useState2[0],\n      setCacheNameInput = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      latitudeInput = _useState4[0],\n      setLatitudeInput = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      longitudeInput = _useState6[0],\n      setLongitudeInput = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      currentUsername = _useState8[0],\n      setCurrentUserName = _useState8[1];\n\n  useEffect(function () {\n    AsyncStorage.getItem(\"username\").then(function (dataFromStorage) {\n      console.log(dataFromStorage);\n      setCurrentUserName(dataFromStorage);\n    }).catch(function (error) {\n      console.log(\"Error getting dataFromStorage:\" + error);\n    });\n  }, []);\n\n  var addPressed = function addPressed() {\n    if (!name.trim()) {\n      alert(\"Please enter your name\");\n    } else if (!username.trim()) {\n      alert(\"Please enter your username\");\n    } else if (!password.trim()) {\n      alert(\"Please enter your password\");\n    } else {\n      var newCache = {\n        cacheName: cacheNameInput,\n        latitude: latitudeInput,\n        longitude: longitudeInput,\n        postedBy: currentUsername\n      };\n      db.collection(\"caches\").add(newCache).then(function (docRef) {\n        alert(\"Cache added with id: \\n\" + docRef.id);\n      }).catch(function (error) {\n        alert(\"Error adding Cache: \" + error);\n      });\n    }\n  };\n\n  return React.createElement(SafeAreaView, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \" Name of cache: \"), React.createElement(TextInput, {\n    placeholder: \"enter the name of the cache\",\n    value: cacheNameInput,\n    onChangeText: setCacheNameInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \" Latitude: \"), React.createElement(TextInput, {\n    placeholder: \"enter the Latitude\",\n    value: latitudeInput,\n    onChangeText: setLatitudeInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \" Longitude: \"), React.createElement(TextInput, {\n    placeholder: \"enter the Longitude\",\n    value: longitudeInput,\n    onChangeText: setLongitudeInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }), React.createElement(Button, {\n    title: \"Add\",\n    onPress: addPressed,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default AddNewCache;","map":{"version":3,"sources":["/Users/anonymousfiles/Desktop/Advanced Web Development/Project/Treasure-Hunt/AddNewCache.js"],"names":["AsyncStorage","React","useEffect","useState","db","AddNewCache","cacheNameInput","setCacheNameInput","latitudeInput","setLatitudeInput","longitudeInput","setLongitudeInput","currentUsername","setCurrentUserName","getItem","then","dataFromStorage","console","log","catch","error","addPressed","name","trim","alert","username","password","newCache","cacheName","latitude","longitude","postedBy","collection","add","docRef","id"],"mappings":"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","sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\nimport React, { useEffect, useState } from 'react';\nimport { SafeAreaView, Text, Button, TextInput } from 'react-native';\nimport { db } from './FirebaseManager';\n\nconst AddNewCache = () => {\n\n    let [cacheNameInput, setCacheNameInput] = useState(\"\");\n    let [latitudeInput, setLatitudeInput] = useState(\"\");\n    let [longitudeInput, setLongitudeInput] = useState(\"\");\n\n    let [currentUsername, setCurrentUserName] = useState(\"\");\n\n    useEffect(() => {\n        AsyncStorage.getItem(\"username\").then((dataFromStorage) => {\n            console.log(dataFromStorage);\n            setCurrentUserName(dataFromStorage);\n        })\n        .catch((error) => {\n            console.log(\"Error getting dataFromStorage:\"+error);\n        })\n    }, [])\n    \n\n    const addPressed = () => {\n\n        if(!name.trim()){\n            alert(\"Please enter your name\");\n        }\n        else if(!username.trim()) {\n            alert(\"Please enter your username\");\n        }\n\n        else if (!password.trim()){\n            alert(\"Please enter your password\");\n        }\n        else {\n            \n            let newCache = {\n                cacheName: cacheNameInput,\n                latitude: latitudeInput,\n                longitude: longitudeInput,\n                postedBy: currentUsername\n            }\n    \n            db.collection(\"caches\").add(newCache)\n            .then(\n                (docRef) => {\n                    alert(\"Cache added with id: \\n\"+docRef.id);\n                }\n            )\n            .catch(\n                (error) => {\n                    alert(\"Error adding Cache: \"+error);\n                }\n            )\n\n        }\n\n       \n    }\n\n    return(\n        <SafeAreaView>\n            <Text> Name of cache: </Text>\n            <TextInput placeholder=\"enter the name of the cache\" value={cacheNameInput} onChangeText={setCacheNameInput}></TextInput>\n            <Text> Latitude: </Text>\n            <TextInput placeholder=\"enter the Latitude\" value={latitudeInput} onChangeText={setLatitudeInput}></TextInput>\n            <Text> Longitude: </Text>\n            <TextInput placeholder=\"enter the Longitude\" value={longitudeInput} onChangeText={setLongitudeInput}></TextInput>\n\n            <Button title=\"Add\" onPress={addPressed}/>\n\n        </SafeAreaView>\n    )\n}\n\nexport default AddNewCache;"]},"metadata":{},"sourceType":"module"}
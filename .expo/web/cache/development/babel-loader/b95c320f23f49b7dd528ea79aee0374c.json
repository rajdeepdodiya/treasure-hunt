{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/anonymousfiles/Desktop/Advanced Web Development/Project/Treasure-Hunt/Login.js\";\n\nimport React, { useEffect, useState } from 'react';\nimport Button from \"react-native-web/dist/exports/Button\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Styles from \"./Styles\";\nimport { db } from \"./FirebaseManager\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nvar Login = function Login(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  useEffect(function () {\n    AsyncStorage.getItem(\"username\").then(function () {\n      navigation.replace(\"Treasure Hunt\");\n    }).catch(function () {});\n  });\n\n  var _useState = useState(\"1\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(\"1\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      rememberMe = _useState6[0],\n      setRememberMe = _useState6[1];\n\n  var loginPressed = function loginPressed() {\n    if (!username.trim()) {\n      alert(\"Please enter your username\");\n    } else if (!password.trim()) {\n      alert(\"Please enter your password\");\n    } else {\n      db.collection(\"users\").get().then(function (querySnapshot) {\n        querySnapshot.forEach(function (snapshot) {\n          console.log(snapshot.data().username + \"===\" + username);\n\n          if (snapshot.data().username === username) {\n            if (snapshot.data().password === password) {\n              if (rememberMe) {\n                AsyncStorage.setItem(\"username\", username).then(function () {\n                  console.log(\"Saved username to local storage\");\n                }).catch(function (error) {\n                  console.log();\n                  \"Error while saving user to local storage \" + error;\n                });\n              }\n\n              navigation.replace(\"Treasure Hunt\");\n            } else {\n              alert(\"Incorrect credentials entered. Please re-try with the correct credentials.\");\n            }\n          }\n        });\n      }).catch(function (error) {\n        alert(\"Error while getting users: \" + error);\n      });\n    }\n  };\n\n  var signUpPressed = function signUpPressed() {\n    navigation.navigate(\"Signup\");\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: Styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: Styles.largeTitle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, \"Welcome to the Toronto Geocaching Club\"), React.createElement(Text, {\n    style: Styles.text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, \"Email: \"), React.createElement(TextInput, {\n    style: Styles.input,\n    placeholder: \"enter your email address\",\n    value: username,\n    onChangeText: setUsername,\n    textContentType: \"emailAddress\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: Styles.text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"Password: \"), React.createElement(TextInput, {\n    style: Styles.input,\n    placeholder: \"enter your password\",\n    value: password,\n    onChangeText: setPassword,\n    textContentType: \"password\",\n    secureTextEntry: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }), React.createElement(Switch, {\n    trackColor: {\n      false: \"#767577\",\n      true: \"#81b0ff\"\n    },\n    ios_backgroundColor: \"#3e3e3e\",\n    value: rememberMe,\n    onValueChange: setRememberMe,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }), React.createElement(Button, {\n    title: \"Login\",\n    onPress: loginPressed,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: Styles.horizontal_align,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, \"Not registered yet? \"), React.createElement(Button, {\n    title: \" Sign Up\",\n    onPress: signUpPressed,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/anonymousfiles/Desktop/Advanced Web Development/Project/Treasure-Hunt/Login.js"],"names":["React","useEffect","useState","Styles","db","AsyncStorage","Login","navigation","route","getItem","then","replace","catch","username","setUsername","password","setPassword","rememberMe","setRememberMe","loginPressed","trim","alert","collection","get","querySnapshot","forEach","snapshot","console","log","data","setItem","error","signUpPressed","navigate","container","largeTitle","text","input","false","true","horizontal_align"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Button, SafeAreaView, Switch, Text, TextInput, View} from 'react-native';\nimport Styles from './Styles';\nimport { db } from './FirebaseManager';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\n\nconst Login = ({navigation, route}) => {\n\n    useEffect(() => {\n        AsyncStorage.getItem(\"username\")\n        .then(\n            () => {\n                navigation.replace(\"Treasure Hunt\")\n            }\n        )\n        .catch(() => {\n\n        })\n    })\n\n    const [username, setUsername] = useState(\"1\");\n    const [password, setPassword] = useState(\"1\");\n    const [rememberMe, setRememberMe] = useState(false)\n\n    const loginPressed = () => {\n\n        if(!username.trim()) {\n            alert(\"Please enter your username\");\n        }\n\n        else if (!password.trim()){\n            alert(\"Please enter your password\");\n        }\n\n        else {\n            db.collection(\"users\").get()\n            .then((querySnapshot) => {\n                    \n                    querySnapshot.forEach((snapshot) => {\n                       \n                        console.log(snapshot.data().username +\"===\"+ username);\n                        if(snapshot.data().username === username){\n\n                           if(snapshot.data().password === password){\n\n                            if(rememberMe){\n\n                                AsyncStorage.setItem(\"username\", username)\n                                .then(() => {\n                                    console.log(\"Saved username to local storage\");\n                                    \n                                })\n                                .catch((error) => {\n    \n                                    console.log();(\"Error while saving user to local storage \"+error);\n                                })\n                            }\n                            navigation.replace(\"Treasure Hunt\");\n\n                           }\n                           else{\n                               alert(\"Incorrect credentials entered. Please re-try with the correct credentials.\");\n                           }\n                        }\n                       \n                        \n                    });\n\n                    })\n\n        \n            .catch( (error) => {\n                alert(\"Error while getting users: \"+error);\n            })\n        }\n\n       \n    }\n\n    const signUpPressed = () => {\n\n        navigation.navigate(\"Signup\");\n\n    }\n\n    return(\n\n        <SafeAreaView style={Styles.container}>\n\n            <Text style={Styles.largeTitle}>Welcome to the Toronto Geocaching Club</Text>\n\n            <Text style={Styles.text}>Email: </Text>\n            <TextInput style={Styles.input} placeholder=\"enter your email address\" value={username} onChangeText={setUsername} textContentType=\"emailAddress\"></TextInput>\n\n            <Text style={Styles.text}>Password: </Text>\n            <TextInput style={Styles.input} placeholder=\"enter your password\" value={password} onChangeText={setPassword} textContentType=\"password\" secureTextEntry={true}></TextInput>\n\n            <Switch\n             trackColor={{ false: \"#767577\", true: \"#81b0ff\" }}\n            \n             ios_backgroundColor= \"#3e3e3e\"\n             value={rememberMe}\n             onValueChange={setRememberMe}\n            ></Switch>\n\n\n\n            <Button title=\"Login\" onPress={loginPressed}/>\n\n            <View style={Styles.horizontal_align}>\n                <Text>Not registered yet? </Text>\n                <Button title=\" Sign Up\" onPress={signUpPressed}/>\n            </View>\n\n           \n        </SafeAreaView>\n    )\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}
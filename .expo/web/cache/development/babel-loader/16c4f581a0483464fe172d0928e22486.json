{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/anonymousfiles/Desktop/Advanced Web Development/Project/Treasure-Hunt/Signup.js\";\n\nimport React, { useState } from 'react';\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Styles from \"./Styles\";\nimport { db } from \"./FirebaseManager\";\n\nvar Signup = function Signup(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      username = _useState4[0],\n      setUsername = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var signUpPressed = function signUpPressed() {\n    if (!name.trim()) {\n      alert(\"Please enter your name\");\n    } else if (!username.trim()) {\n      alert(\"Please enter your username\");\n    } else if (!password.trim()) {\n      alert(\"Please enter your password\");\n    } else {\n      db.collection(\"users\").get().then(function (querySnapshot) {\n        var doesUserExist = false;\n        querySnapshot.forEach(function (snapshot) {\n          if (snapshot.data().username === username) {\n            doesUserExist = true;\n          }\n        });\n\n        if (doesUserExist) {\n          alert(username + \" already has an account. Please log in.\");\n        } else {\n          var newUser = {\n            name: name,\n            username: username,\n            password: password\n          };\n          return db.collection(\"users\").add(newUser);\n        }\n      }).then(function () {\n        alert(\"sign up successful\");\n      }).catch(function (error) {\n        alert(\"Error while adding / getting user: \" + error);\n      });\n    }\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: Styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: Styles.text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, \"Name: \"), React.createElement(TextInput, {\n    style: Styles.input,\n    placeholder: \"enter your name\",\n    value: name,\n    onChangeText: setName,\n    textContentType: \"name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, \"Email: \"), React.createElement(TextInput, {\n    style: Styles.input,\n    placeholder: \"enter your email address\",\n    value: username,\n    onChangeText: setUsername,\n    textContentType: \"emailAddress\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Password: \"), React.createElement(TextInput, {\n    style: Styles.input,\n    placeholder: \"enter your password\",\n    value: password,\n    onChangeText: setPassword,\n    textContentType: \"password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }), React.createElement(Button, {\n    title: \"Sign Up\",\n    onPress: signUpPressed,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default Signup;","map":{"version":3,"sources":["/Users/anonymousfiles/Desktop/Advanced Web Development/Project/Treasure-Hunt/Signup.js"],"names":["React","useState","Styles","db","Signup","navigation","route","name","setName","username","setUsername","password","setPassword","signUpPressed","trim","alert","collection","get","then","querySnapshot","doesUserExist","forEach","snapshot","data","newUser","add","catch","error","container","text","input"],"mappings":"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","sourcesContent":["import React, { useState }  from 'react';\nimport { SafeAreaView, Text, View , TextInput, Button} from 'react-native';\nimport Styles from './Styles';\nimport { db } from './FirebaseManager';\n\nconst Signup = ({navigation, route}) => {\n\n    const [name, setName] = useState(\"\");\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const signUpPressed = () => {\n\n        if(!name.trim()){\n            alert(\"Please enter your name\");\n        }\n        else if(!username.trim()) {\n            alert(\"Please enter your username\");\n        }\n\n        else if (!password.trim()){\n            alert(\"Please enter your password\");\n        }\n\n        else{\n            \n            db.collection(\"users\").get()\n            .then((querySnapshot) => {\n                    \n                    var doesUserExist = false;\n                    querySnapshot.forEach((snapshot) => {\n                       \n                        if(snapshot.data().username === username){\n                            doesUserExist = true;\n                        }\n                        \n                    });\n                    if(doesUserExist){\n                        alert(username+\" already has an account. Please log in.\");\n                        \n                    }\n                    else{\n\n                        let newUser = {\n                            name: name,\n                            username: username,\n                            password: password\n                        }\n\n                        return db.collection(\"users\").add(newUser);\n                        \n                    }\n\n                    })\n            .then(() => {\n                alert(\"sign up successful\");\n                // navigation.popToTop();\n            })\n            .catch( (error) => {\n                alert(\"Error while adding / getting user: \"+error);\n            })\n        }\n    }\n\n    return(\n        <SafeAreaView style={Styles.container}>\n\n        <Text style={Styles.text}>Name: </Text>\n        <TextInput style={Styles.input} placeholder=\"enter your name\" value={name} onChangeText={setName} textContentType=\"name\"></TextInput>\n\n        <Text>Email: </Text>\n        <TextInput style={Styles.input} placeholder=\"enter your email address\" value={username} onChangeText={setUsername} textContentType=\"emailAddress\"></TextInput>\n       \n        <Text>Password: </Text>\n        <TextInput style={Styles.input} placeholder=\"enter your password\" value={password} onChangeText={setPassword} textContentType=\"password\"></TextInput>\n\n        <Button title=\"Sign Up\" onPress={signUpPressed}/>\n\n        \n    </SafeAreaView>\n    )\n}\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}